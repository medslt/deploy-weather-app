(this.webpackJsonpnova_test=this.webpackJsonpnova_test||[]).push([[0],[,function(e,a,t){e.exports={timeBlock:"TimeBlock_timeBlock__1ZLQ7",time:"TimeBlock_time__lNEWF",oval1:"TimeBlock_oval1__3OOkz",oval2:"TimeBlock_oval2__1Vb1D",oval3:"TimeBlock_oval3__3spq5"}},function(e,a,t){e.exports={header:"Header_header__1m9KH",headerInfo:"Header_headerInfo__2UEmX",temp:"Header_temp__12w1p",progressText:"Header_progressText__2_zgH"}},,,function(e,a,t){e.exports={progress:"ProgressBar_progress__1mtO7",progressBar:"ProgressBar_progressBar__XZbqh"}},function(e,a,t){e.exports={dayBlock:"Day_dayBlock__QEVra",dayInfo:"Day_dayInfo__vQ9wl",dayIcon:"Day_dayIcon__206ok"}},,function(e,a,t){e.exports={main:"Main_main__2m6w7",days:"Main_days__17346"}},,,,function(e,a,t){e.exports={textAnimation:"DayTemperature_textAnimation__g3m3x"}},function(e,a,t){e.exports=t(20)},,,,,function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),o=t.n(c),s=(t(18),Object(n.createContext)()),l=t(3),i=t.n(l),m=t(1),u=t.n(m),d=function(){return r.a.createElement("div",{className:u.a.timeBlock},r.a.createElement("span",{className:u.a.oval3}),r.a.createElement("span",{className:u.a.oval2}),r.a.createElement("span",{className:u.a.oval1}),r.a.createElement("span",{className:u.a.time},i()().format("HH:mm")," GMT"),r.a.createElement("span",{className:u.a.oval3}),r.a.createElement("span",{className:u.a.oval2}),r.a.createElement("span",{className:u.a.oval1}))},p=t(5),f=t.n(p),v=function(e){var a=e.width;return r.a.createElement("div",null,r.a.createElement("div",{className:[f.a.progress,f.a.progressMoved].join(" ")},r.a.createElement("div",{className:f.a.progressBar,style:{width:a}})))},_=t(12),h=t.n(_),E=Object(n.memo)((function(e){var a=e.temperature,t=Object(n.useRef)(null),c=Object(n.useContext)(s).secondsToReload;return Object(n.useEffect)((function(){0===c&&(t.current.style.fontSize="small",setTimeout((function(){t.current.style.fontSize="inherit"}),300))}),[c]),r.a.createElement("span",{ref:t,className:h.a.textAnimation},a&&"".concat(a,"\xb0"))})),y=t(2),x=t.n(y),g=Object(n.memo)((function(){var e=Object(n.useContext)(s),a=e.todayWeatherTemp,t=e.secondsToReload,c="".concat(parseInt(10*(60-t)/6),"%");return r.a.createElement("div",{className:x.a.header},r.a.createElement("div",{className:x.a.headerInfo},r.a.createElement("div",{className:x.a.textXlarge},"LONDON"),r.a.createElement(d,null),r.a.createElement("div",{className:x.a.temp},r.a.createElement(E,{temperature:a}))),r.a.createElement("div",{className:x.a.progressInfo},r.a.createElement("div",{className:x.a.progressText},"Reloading in ",t,"s"),r.a.createElement(v,{width:c})))})),b=t(6),w=t.n(b),N=Object(n.memo)((function(e){var a=e.dayInfo,t=a.day,n=a.icon,c=a.desc,o=a.temp;return r.a.createElement("div",{className:w.a.dayBlock},r.a.createElement("div",{className:w.a.dayInfo},r.a.createElement("span",null,t)," ",r.a.createElement(E,{temperature:o})),r.a.createElement("div",{className:w.a.dayIcon},r.a.createElement("span",null,r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(n,".png"),width:"50"})),r.a.createElement("span",null,c)))})),k=t(8),O=t.n(k),j=function(){var e=Object(n.useContext)(s).fiveDaysWeatherInfo;return r.a.createElement("div",{className:O.a.main},r.a.createElement(g,null),r.a.createElement("div",{className:O.a.days},e.map((function(e,a){return r.a.createElement(N,{dayInfo:e,key:a})}))))},I=t(4),B=t.n(I),T=t(9),D=t(7),H=s.Provider,W=function(e){return"".concat("https://api.openweathermap.org/data/2.5/").concat(e).concat("?q=London,uk&units=metric&appid=2cefe1fd9c145b11b8254ac699e6da04")},S=function(e){var a=e.children,t=Object(n.useState)(),c=Object(D.a)(t,2),o=c[0],s=c[1],l=Object(n.useState)([]),m=Object(D.a)(l,2),u=m[0],d=m[1],p=Object(n.useState)(60),f=Object(D.a)(p,2),v=f[0],_=f[1];Object(n.useEffect)((function(){Promise.all([h(),E()]).then((function(e){y()}))}),[]);var h=function(){var e=Object(T.a)(B.a.mark((function e(){var a,t,n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=W("weather"),e.next=4,fetch(a);case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r=parseInt(n.main.temp),s(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error({error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(T.a)(B.a.mark((function e(){var a,t,n,r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=W("forecast"),e.next=4,fetch(a);case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r=[],c=-1,n.list.forEach((function(e){if(c!==i()(e.dt_txt).day()){c=i()(e.dt_txt).day();var a={day:i()(e.dt_txt).format("ddd"),temp:parseInt(e.main.temp),desc:e.weather[0].description,icon:e.weather[0].icon.replace("n","d")};r.push(a)}})),d(r.slice(1,6)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error({error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=0;setInterval((function(){e++,_(60-e),60===e&&(h(),E(),e=0)}),1e3)};return r.a.createElement(H,{value:{todayWeatherTemp:o,fiveDaysWeatherInfo:u,secondsToReload:v}},a)};var M=function(){return r.a.createElement(S,null,r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.157c37e9.chunk.js.map